<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Brown Dining Wrapped</title>
        <link rel="icon" href="icons/favicon-64x64.png" sizes="64x64"
            type="image/png">
        <link rel="icon" href="icons/favicon-32x32.png" sizes="32x32"
            type="image/png">
        <link rel="icon" href="icons/favicon-16x16.png" sizes="16x16"
            type="image/png">
        <link rel="apple-touch-icon" href="icons/favicon-64x64.png">
        <link rel="stylesheet" href="./style.css">
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <!-- Firebase App -->
        <script
            src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>

        <!-- Firebase Storage -->
        <script
            src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage.js"></script>
        <script
            src="https://cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@3.0.0/dist/fp.min.js"></script>
        <script type="module" src="script.js"></script>
    </head>
    <body>
        <main>
            <h1 class="title">Brown Dining Wrapped</h1>
            <form id="csvForm">
                <div class="form-group">
                    <button class="help-btn" id="helpButton">ⓘ Help Finding
                        File</button>
                    <div class="file-input-wrapper">
                        <input type="file" id="file-upload" name="file"
                            required>
                        <label for="file-upload"
                            class="file-input-button">Choose a file...</label>
                    </div>
                    <button type="button" id="processButton">Process
                        File</button>
                    <label class="custom-checkbox">
                        <input type="checkbox" id="share-data" checked />
                        <span class="checkmark"></span>
                        Share data for overall stats
                    </label>
                </div>
            </form>

            <!-- Help box element -->
            <div id="helpBox" class="help-box">
                <button class="close-btn" id="closeButton">✖</button>
                <p>Follow these steps to retrieve your anonymous dining
                    data:</p>
                <ol>
                    <li>Go to <a
                            href="https://mycard.brown.edu/statementnew.php?"
                            target="_blank"
                            rel="noopener noreferrer">mycard.brown.edu</a></li>
                    <li>Click "View Statement"</li>
                    <li>Click "CSV" in the upper right corner to download your
                        dining data!</li>
                </ol>
            </div>
            <div id="overlay"></div>
            <div id="data-box">
                <div class="chart-container" id="pie-chart-container">
                    <canvas id="myPieChart"></canvas>
                </div>
                <div class="chart-container" id="hours-chart-container">
                    <canvas id="timeBarChart"></canvas>
                </div>
                <div class="chart-container" id="days-chart-container">
                    <canvas id="daysBarChart"></canvas>
                </div>
                <div class="chart-container" id="stats-container">
                    <div class="stats-wrapper">
                        <h2 class="stats-title">Stats</h2>
                        <div id="statsOutput" class="stats-output">No stats available yet.</div>
                      </div>
                </div>
            </div>
        </main>
    </body>
</html>